{"version":3,"sources":["OlhoVivo.js","Mapa.js","Location.js","Parada.js","Layout.js","index.js"],"names":["OlhoVivo","props","pegaLinha","e","setState","linha","target","value","pegaDados","data","autentica","bind","state","preventDefault","axios","url","method","then","response","console","log","get","params","termosBusca","catch","error","itens","codigoLinha","i","this","length","push","cl","className","tp","ts","sl","onSubmit","type","name","placeholder","onChange","id","Component","Mapa","autenticaParada","refresh","Date","toLocaleTimeString","mapstyle","featureType","elementType","stylers","visibility","latLng","latitudeParada","key","Marker","icon","position","lat","lng","longitudeParada","item","scale","py","px","GoogleMapDisplay","withGoogleMap","defaultCenter","defaultZoom","defaultOptions","styles","latitude","GoogleMap","containerElement","mapElement","Location","autenticaPosicao","pegaParada","posLat","window","navigator","geolocation","getCurrentPosition","coords","longitude","err","errorMessage","message","posLng","dado","j","vs","parada","l","posVeiculo","lt0","renderContent","React","Parada","escondeModal","apareceModalParada","previsao","apareceModal","cp","codigoParada","p","previsaoDados","k","hora","t","split","now","referenceTime","setHours","parseInt","setMinutes","differenceInMinutes","Math","round","passaEm","np","ed","onClick","Modal","size","aria-labelledby","centered","show","onHide","Header","closeButton","Title","Body","Footer","Button","variant","Layout","App","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.7fd199c3.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nclass OlhoVivo extends Component {\n  constructor(props) {\n    super(props);\n    this.autentica = this.autentica.bind(this);\n    this.pegaLinha = this.pegaLinha.bind(this);\n\n    this.state = {\n      linha: \"\",\n      data: [],\n    };\n  }\n  pegaLinha = (e) => {\n    this.setState({ linha: e.target.value });\n  };\n  pegaDados = (e) => {\n    this.setState({ data: e.target.value });\n  };\n\n  autentica(e) {\n    e.preventDefault();\n\n    axios({\n      url:\n        \"https://aiko-estagio-proxy.azurewebsites.net/Login/Autenticar?token=17de5123a0a6a4256b6ef631d0e8348a3a5aece6b36427f41f43b0967131d2ed\",\n      method: \"post\",\n    })\n      .then((response) => {\n        console.log(response);\n        axios\n          .get(\"https://aiko-estagio-proxy.azurewebsites.net/Linha/Buscar\", {\n            params: {\n              termosBusca: this.state.linha,\n            },\n          })\n          .then((response) => {\n            const data = response.data;\n            console.log(response);\n            this.setState({ data });\n          });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  render() {\n    const itens = [];\n    const codigoLinha = [];\n\n    for (let i = 0; i < this.state.data.length; i++) {\n      const data = this.state.data[i];\n      codigoLinha.push(<div>{data.cl}</div>);\n      itens.push(\n        <tbody className='table-body-linha'>\n          <tr className='informacao-linha'>\n            <td>Código da Linha: {data.cl}</td>\n            <td>Terminal principal: {data.tp}</td>\n            <td>Terminal Secundário: {data.ts}</td>\n            <td>Sentido: {data.sl}</td>\n          </tr>\n        </tbody>\n      );\n    }\n    return (\n      <div>\n        <form className='form-linha' onSubmit={this.autentica}>\n            <div className='cobre-btn-linha'>\n            <label>\n            <input\n            className='procura-linha'\n              type=\"text\"\n              name=\"linha\"\n              placeholder='Número da linha'\n              onChange={this.pegaLinha}\n            />\n          </label>\n          <button\n              className=\"btn-pesquisar\"\n              name=\"submit\"\n              id=\"submit\"\n              type=\"submit\"\n            >\n              <i className=\"fa fa-search\"></i>\n            </button>\n            </div>\n         \n        </form>\n        <div className='linha'>\n        <table>\n          <tbody>{itens}</tbody>\n        </table>\n        </div>\n        \n      </div>\n    );\n  }\n}\nexport default OlhoVivo;\n","import React, { Component } from \"react\";\nimport \"./index.scss\";\nimport axios from \"axios\";\nimport {\n  Marker,\n  withGoogleMap,\n  GoogleMap,\n  InfoWindow,\n} from \"react-google-maps\";\n\nclass Mapa extends Component {\n  constructor(props) {\n    super(props);\n    this.autenticaParada = this.autenticaParada.bind(this);\n    this.pegaLinha = this.pegaLinha.bind(this);\n\n    this.state = {\n      refresh: new Date().toLocaleTimeString(),\n      linha: \"\",\n      data: [],\n      mapstyle: [\n        {\n          featureType: \"poi\",\n          elementType: \"labels.icon\",\n          stylers: [\n            {\n              visibility: \"off\",\n            },\n          ],\n        },\n        {\n          featureType: \"transit.station.bus\",\n          stylers: [{ visibility: \"off\" }],\n        },\n        {\n          featureType: \"transit\",\n          stylers: [\n            {\n              visibility: \"off\",\n            },\n          ],\n        },\n      ],\n    };\n  }\n\n  componentDidMount() {\n    this.autenticaParada();\n  }\n\n  pegaLinha = (e) => {\n    this.setState({ linha: e.target.value });\n  };\n  pegaDados = (e) => {\n    this.setState({ data: e.target.value });\n  };\n\n  autenticaParada() {\n    axios({\n      url:\n        \"https://aiko-estagio-proxy.azurewebsites.net/Login/Autenticar?token=17de5123a0a6a4256b6ef631d0e8348a3a5aece6b36427f41f43b0967131d2ed\",\n      method: \"post\",\n    })\n      .then((response) => {\n        console.log(response);\n        axios\n          .get(\"https://aiko-estagio-proxy.azurewebsites.net/Parada/Buscar\", {\n            params: {\n              termosBusca: this.state.linha,\n            },\n          })\n          .then((response) => {\n            const data = response.data;\n            console.log(response);\n            this.setState({ data });\n          });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n  render() {\n    const latLng = [];\n    for (let i = 0; i < this.props.latitudeParada.length; i++) {\n      latLng.push(\n        <Marker\n        className=\"stopBus\"\n        key={Marker.id}\n          icon={{\n           \n            url: \"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png\",\n          }}\n          position={{\n            lat: this.props.latitudeParada[i],\n            lng: this.props.longitudeParada[i],\n          }}\n        />\n      );\n    }\n\n    const item = [];\n    for (let i = 0; i < this.state.data.length; i++) {\n      const data = this.state.data[i];\n      item.push(\n        <Marker\n          icon={{\n            url: \"http://maps.google.com/mapfiles/ms/icons/blue-dot.png\",\n            scale: 0.01,\n          }}\n          position={{ lat: data.py, lng: data.px }}\n        />\n      );\n    }\n    const GoogleMapDisplay = withGoogleMap((props) => (\n      <GoogleMap\n        key={props.id}\n        defaultCenter={{ lat: -23.5432, lng: -46.6292 }}\n        defaultZoom={15}\n        defaultOptions={{ styles: this.state.mapstyle }}\n      >\n        <Marker\n          icon={{\n            url: \"http://maps.google.com/mapfiles/ms/icons/red-dot.png\",\n          }}\n          position={{ lat: -23.5432, lng: -46.6292 }}\n        />\n\n        {item}\n        {latLng}\n      </GoogleMap>\n    ));\n    return (\n      <div>\n        {this.item}\n        <div lat={this.latitude}></div>\n\n    <GoogleMapDisplay \n          key={GoogleMap.id}\n          containerElement={<div className=\"map\"></div>}\n          mapElement={<div className=\"map\" />}\n        />\n      </div>\n    );\n  }\n}\nexport default Mapa;\n","import React from \"react\";\nimport Mapa from \"./Mapa\";\nimport axios from \"axios\";\n\nclass Location extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.autenticaPosicao = this.autenticaPosicao.bind(this);\n    this.pegaDados = this.pegaDados.bind(this);\n    this.codigoLinha = this.codigoLinha.bind(this);\n    this.pegaParada = this.pegaParada.bind(this);\n    \n    this.state = {\n      data: [],\n      linha: \"\",\n      lat: null,\n      lng: null,\n      posLat: []\n    };\n  }\n  componentDidMount() {\n    this.autenticaPosicao();\n    window.navigator.geolocation.getCurrentPosition(\n      (position) =>\n        this.setState({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude,\n        }),\n      (err) => this.setState({ errorMessage: err.message })\n    );\n    }\n  posVeiculo(){\n    const posLat =[];\n    const posLng =[]\n    const dado = this.state.data;\n    for (let i = 0; i < dado.length; i++) {\n        for (let j = 0; j < dado[i].vs.length; j++) {\n              posLat.push(dado[i].vs[j].py);\n              posLng.push(dado[i].vs[j].px);\n        }\n      }\n      return {\n        posLat,\n        posLng\n      }\n}\n  pegaDados = (e) => {\n    this.setState({ data: e.target.value });\n }\n\n  codigoLinha() {\n    const codigoLinha = this.props.codigoLinha;\n  }\n\n  pegaParada(e) {\n    this.setState({ parada: e.target.value });\n  }\n\n  autenticaPosicao() {\n    axios({\n      method: \"post\",\n      url:\n        \"https://aiko-estagio-proxy.azurewebsites.net/Login/Autenticar?token=17de5123a0a6a4256b6ef631d0e8348a3a5aece6b36427f41f43b0967131d2ed\",\n    })\n      .then((response) => {\n        console.log(response);\n        axios\n          .get(\"https://aiko-estagio-proxy.azurewebsites.net/Posicao\",)\n          .then((response) => {\n              const data = response.data.l;\n              console.log(response);\n              \n              this.setState({ data });\n\n          })\n          .catch(function (error) {\n            console.log(error, \"erro meth get\");\n          });\n      })\n      .catch(function (error) {\n        console.log(error, \"erro meth Post\");\n      });\n  }\n\n  renderContent() {\n    const latLng = this.posVeiculo();\n    if (this.state.errorMessage && !this.state.lat && !this.state.lng) {\n      return <div>Error: {this.state.errorMessage}</div>;\n    }\n    if (!this.state.errorMessage && this.state.lat) {\n      return <Mapa key={Mapa.id} lat={this.state.lat} lng={this.state.lng} latitudeParada={latLng.posLat} longitudeParada={latLng.posLng}/>;\n    }\n  }\n  render() {\n    this.posVeiculo();\n    const dado = this.state.data;\n    const item = [];\n    for (let i = 0; i < dado.length; i++) {\n        for (let j = 0; j < dado[i].vs.length; j++) {\n            item.push(       \n            <tbody className=\"table-body\">\n              <tr>\n                <td>{dado[i].lt0}</td>\n                <td>{dado[i].vs[j].py}</td>\n                <td>{dado[i].vs[j].px}</td>\n              </tr>\n            </tbody>\n            )\n        }\n    }  \n\n    return (\n      <div>\n          <div>{this.renderContent()}</div>\n      </div>\n    );\n  }\n}\n\nexport default Location;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./index.scss\";\nimport { Button, Modal } from \"react-bootstrap\";\n\nclass Parada extends Component {\n  constructor(props) {\n    super(props);\n    this.autenticaParada = this.autenticaParada.bind(this);\n    this.pegaLinha = this.pegaLinha.bind(this);\n    this.pegaParada = this.pegaParada.bind(this);\n    this.escondeModal = this.escondeModal.bind(this);\n    this.apareceModalParada = this.apareceModalParada.bind(this);\n\n    this.state = {\n      linha: \"\",\n      data: [],\n      previsao: [],\n      apareceModal: false,\n    };\n  }\n\n  apareceModalParada() {\n    return this.setState({ apareceModalParada: true });\n  }\n  escondeModal() {\n    return this.setState({ apareceModal: false });\n  }\n\n  pegaLinha = (e) => {\n    this.setState({ linha: e.target.value });\n  };\n  pegaDados = (e) => {\n    this.setState({ data: e.target.value });\n  };\n\n  autenticaParada(e) {\n    e.preventDefault();\n\n    axios({\n      url:\n        \"https://aiko-estagio-proxy.azurewebsites.net/Login/Autenticar?token=17de5123a0a6a4256b6ef631d0e8348a3a5aece6b36427f41f43b0967131d2ed\",\n      method: \"post\",\n    })\n      .then((response) => {\n        console.log(response);\n        axios\n          .get(\"https://aiko-estagio-proxy.azurewebsites.net/Parada/Buscar\", {\n            params: {\n              termosBusca: this.state.linha,\n            },\n          })\n          .then((response) => {\n            const data = response.data;\n            console.log(response);\n            this.setState({ data });\n          });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  pegaParada(cp) {\n    axios({\n      url:\n        \"https://aiko-estagio-proxy.azurewebsites.net/Login/Autenticar?token=17de5123a0a6a4256b6ef631d0e8348a3a5aece6b36427f41f43b0967131d2ed\",\n      method: \"post\",\n    })\n      .then((response) => {\n        console.log(response);\n        axios\n          .get(\"https://aiko-estagio-proxy.azurewebsites.net/Previsao/Parada\", {\n            params: {\n              codigoParada: cp,\n            },\n          })\n          .then((response) => {\n            const data = [response.data.p];\n            return this.setState({ previsao: data });\n          })\n          .catch(function (error) {\n            console.log(error, \"erro\");\n          });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n\n    this.setState({ apareceModal: true });\n  }\n\n  render() {\n    const previsao = [];\n\n    if (this.state.previsao[0]) {\n      const previsaoDados = this.state.previsao;\n\n      for (let i = 0; i < previsaoDados.length; i++) {\n        for (let j = 0; j < previsaoDados[i].l.length; j++) {\n          for (let k = 0; k < previsaoDados[i].l[j].vs.length; k++) {\n\n            const hora = previsaoDados[i].l[j].vs[k].t.split(\":\");\n\n            const now = new Date();\n            const referenceTime = new Date();\n\n            referenceTime.setHours(parseInt(hora[0]));\n            referenceTime.setMinutes(parseInt(hora[1]));\n\n            const differenceInMinutes = Math.round(\n              (referenceTime - now) / 1000 / 60\n            );\n\n            let passaEm = differenceInMinutes;\n\n            if (differenceInMinutes <= 0) {\n              passaEm = `há ${-differenceInMinutes}`;\n            }\n\n            previsao.push(\n              <table>\n              <tbody>\n                <tr>\n                  <td>Horário: {previsaoDados[i].l[j].vs[k].t}</td>\n                  <td>Letreiro: {previsaoDados[i].l[j].lt0}</td>\n                  <td>Passa em: {passaEm} min</td>\n                </tr>\n              </tbody>\n              </table>\n            );\n          }\n        }\n      }\n    }\n    const itens = [];\n    for (let i = 0; i < this.state.data.length; i++) {\n      const data = this.state.data[i];\n      itens.push(\n        <table>\n        <tbody className='paradas'>\n          <tr className=\"endereco-parada\">\n            <td>Parada: {data.np}</td>\n            <td>Rua: {data.ed}</td>\n            <td>\n            <button\n              className=\"btn-horario\"\n              onClick={this.pegaParada.bind(this, data.cp)}\n            >\n              horários\n            </button>\n            <Modal\n              className=\"modal\"\n              size=\"lg\"\n              aria-labelledby=\"contained-modal-title-vcenter\"\n              centered\n              show={this.state.apareceModal}\n              onHide={this.escondeModal}\n            >\n              <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                  Horários e ônibus que passam nessa parada:\n                </Modal.Title>\n              </Modal.Header>\n              <Modal.Body>{previsao}</Modal.Body>\n              <Modal.Footer>\n                <Button\n                  variant=\"secondary\"\n                  className=\"btn-voltar\"\n                  onClick={this.escondeModal}\n                >\n                  voltar\n                </Button>\n              </Modal.Footer>\n            </Modal>\n            </td>\n            </tr>\n         </tbody>\n        </table>\n      );\n    }\n\n    return (\n      <div>\n        {this.item}\n        <form className=\"form-parada\" onSubmit={this.autenticaParada}>\n          <div className=\"cobre-btn-parada\">\n            <label>\n              <input\n                className=\"procura-parada\"\n                placeholder=\"Nome da Parada\"\n                type=\"text\"\n                name=\"linha\"\n                onChange={this.pegaLinha}\n              />\n            </label>\n            <button\n              className=\"btn-pesquisar\"\n              name=\"submit\"\n              id=\"submit\"\n              type=\"submit\"\n            >\n              <i className=\"fa fa-search\"></i>\n            </button>\n          </div>\n        </form>\n\n        <div className=\"paradas\">\n          <table>\n          <tbody>{itens}</tbody>\n          </table>\n           \n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Parada;\n","import React, { Component } from \"react\";\nimport OlhoVivo from \"./OlhoVivo\";\nimport Location from \"./Location\";\nimport Parada from \"./Parada\";\nimport \"./index.scss\";\n\nclass Layout extends Component {\n  render() {\n    return (\n      <div className=\"main-div-layout\">\n        <div className=\"layout\">\n          <div className=\"alinhar\">\n            <h1 className=\"titulo\">SP Bus</h1>\n            <div className=\"scroll-parada\">\n              {\" \"}\n              <Parada key={Parada.id} />{\" \"}\n            </div>\n            <div className=\"scroll-linha\">\n              {\" \"}\n              <OlhoVivo key={OlhoVivo.id}  />\n            </div>\n          </div>\n          <Location key={Location.id} />\n        </div>\n      </div>\n    );\n  }\n}\nexport default Layout;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Layout from \"./Layout\";\n\nconst App = () => {\n  return <Layout/>;\n};\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n"],"sourceRoot":""}